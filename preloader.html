<!DOCTYPE HTML>
<html>
<head>
  <title>–ó–∞—á–µ–∫–∞–π—Ç–µ...</title>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
  <button id="startAudio" style="position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; opacity: 5; z-index: 9999; background: transparent; border: none;">
    <span id="startText" style="display: inline-block; transform: translateY(-300px); color: #963650; font-size: 36px;">
      –ü—Ä–∏–∫–ª–∞–¥–∏ –ª–∞–ø–∫—É üíî
    </span>
  </button>
  <audio id="bgMusic" src="../music/sad_prev.mp3" loop></audio>
  
  <style>
    /* –°—Ç–∏–ª—ñ –ø—Ä–µ–ª–æ–∞–¥–µ—Ä–∞ */
    html, body, * {
      cursor: url('../img/cursor.svg') 16 16, auto;
    }
    body {
      margin: 0;
      padding: 0;
      background: #fdc9d1;
      font-family: sans-serif;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
    }
    #preloader {
      text-align: center;
    }
    #preloader h1 {
      font-size: 2em;
      margin-bottom: 20px;
    }
    #preloader p {
      font-size: 1.2em;
    }
    /* –°—Ç–∏–ª—ñ –¥–ª—è –∑–æ–±—Ä–∞–∂–µ–Ω—å */
    #preloader img {
      max-width: 100%;
      margin-bottom: 20px;
    }
  </style>
  <script>
    // –§—É–Ω–∫—Ü—ñ—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ —á–∞—Å—É —Ç–∞ —Ä–µ–¥—ñ—Ä–µ–∫—Ç—É
    function checkPreloaderTime() {
      // (–º—ñ—Å—è—Ü—ñ —Ä–∞—Ö—É—é—Ç—å—Å—è –≤—ñ–¥ 0, —Ç–æ–º—É –¥–ª—è –ª—é—Ç–æ–≥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è 1)
      var targetTime = new Date(2025, 1, 14, 10, 0, 0);
      var now = new Date();
      console.log("preloader.html: –ü–æ—Ç–æ—á–Ω–∏–π —á–∞—Å:", now, "–¶—ñ–ª—å–æ–≤–∏–π —á–∞—Å:", targetTime);
      
      if (now >= targetTime) {
        console.log("preloader.html: –ß–∞—Å –Ω–∞—Å—Ç–∞–≤. –û–Ω–æ–≤–ª–µ–Ω–Ω—è –≤–º—ñ—Å—Ç—É –ø—Ä–µ–ª–æ–∞–¥–µ—Ä–∞.");
        var preloaderDiv = document.getElementById("preloader");
        // –ó–∞–º—ñ–Ω—é—î–º–æ –≤–º—ñ—Å—Ç: –ø–æ–∫–∞–∑—É—î–º–æ —ñ–Ω—à–µ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è —Ç–∞ —Ç–µ–∫—Å—Ç
        preloaderDiv.innerHTML = '<img src="ready.png" alt="–ì–æ—Ç–æ–≤–æ"><h1>–¢–µ–ø–µ—Ä –º–æ–∂–Ω–∞ –ø–æ–¥–∏–≤–∏—Ç–∏—Å—è</h1>';
        // –ß–µ—Ä–µ–∑ 3 —Å–µ–∫—É–Ω–¥–∏ —Ä–µ–¥—ñ—Ä–µ–∫—Ç –Ω–∞ main.html
        setTimeout(function(){
          console.log("preloader.html: –ü–µ—Ä–µ—Ö—ñ–¥ –Ω–∞ main.html.");
          window.location.href = "project3.html";
        }, 3000);
      } else {
        console.log("preloader.html: –©–µ —Ä–∞–Ω–æ, –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ —á–µ—Ä–µ–∑ 10 —Å–µ–∫—É–Ω–¥.");
        setTimeout(checkPreloaderTime, 10000);
      }
    }
    
    // –ó–∞–ø—É—Å–∫ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ –ø—ñ—Å–ª—è –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –¥–æ–∫—É–º–µ–Ω—Ç–∞
    document.addEventListener('DOMContentLoaded', checkPreloaderTime, false);
  </script>
</head>
<body>
  <div id="preloader">
    <!-- GIF –¥–ª—è –æ—á—ñ–∫—É–≤–∞–Ω–Ω—è -->
    <img id="loadingGif" src="loading.gif" alt="Loading...">
    <h1>–ó–∞—á–µ–∫–∞–π—Ç–µ...</h1>
    <p>–¶—é —Å—Ç–æ—Ä—ñ–Ω–∫—É –≤–∏ –∑–º–æ–∂–µ—Ç–µ –ø–æ–±–∞—á–∏—Ç–∏ –ø—ñ—Å–ª—è 10:00 14 –ª—é—Ç–æ–≥–æ</p>
  </div>
  <script> 
     // –û–±—Ä–æ–±–∫–∞ –∫–ª—ñ–∫—É –ø–æ –Ω–µ–≤–∏–¥–∏–º–æ–º—É –æ–≤–µ—Ä–ª–µ—é –¥–ª—è –∑–∞–ø—É—Å–∫—É –∞—É–¥—ñ–æ
     document.getElementById("startAudio").addEventListener("click", function() {
        const bgMusic = document.getElementById("bgMusic");
        bgMusic.play().then(() => {
          console.log("–§–æ–Ω–æ–≤–∞ –º—É–∑–∏–∫–∞ –∑–∞–ø—É—Å—Ç–∏–ª–∞—Å—å");
        }).catch((error) => {
          console.error("–ü–æ–º–∏–ª–∫–∞ –∑–∞–ø—É—Å–∫—É –º—É–∑–∏–∫–∏:", error);
        });
        // –í–∏–¥–∞–ª—è—î–º–æ –∫–Ω–æ–ø–∫—É, —â–æ–± –≤–æ–Ω–∞ –Ω–µ –∑–∞–≤–∞–∂–∞–ª–∞ –ø–æ–¥–∞–ª—å—à–∏–º –≤–∑–∞—î–º–æ–¥—ñ—è–º
        this.remove();
      });
  </script>
</body>
</html>
